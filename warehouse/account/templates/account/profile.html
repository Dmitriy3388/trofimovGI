{% extends "mebel/base.html" %}
{% load static %}

{% block title %}Мой профиль{% endblock %}

{% block content %}
<div class="profile-container">
    <h1 class="profile-title">Мой профиль</h1>

    <div class="profile-card">
            <div class="profile-header">
            <div class="profile-avatar-container">
                {% if profile.photo and profile.photo.url %}
                    <img src="{{ profile.photo.url }}"
                        alt="Фото {{ profile.user.username }}"
                        class="profile-avatar">
                {% else %}
                    <img src="{% static 'img/no_image.png' %}"
                        alt="Фото отсутствует"
                        class="profile-avatar">
                {% endif %}
            </div>

    <div class="profile-info">
        <h2>{{ profile.user.get_full_name|default:profile.user.username }}</h2>
        <p class="username">@{{ profile.user.username }}</p>
    </div>
</div>

        <div class="profile-details">
            <div class="detail-row">
                <span class="detail-label">Логин:</span>
                <span class="detail-value">{{ profile.user.username }}</span>
            </div>

            <div class="detail-row">
                <span class="detail-label">Email:</span>
                <span class="detail-value">{{ profile.user.email }}</span>
            </div>

            <div class="detail-row">
                <span class="detail-label">Дата рождения:</span>
                <span class="detail-value">
                    {% if profile.date_of_birth %}
                        {{ profile.date_of_birth|date:"d.m.Y" }}
                    {% else %}
                        Не указана
                    {% endif %}
                </span>
            </div>
        </div>

        <a href="{% url 'account:edit' %}" class="edit-button">Редактировать профиль</a>
        <a href="{% url 'account:password_change' %}">Изменить пароль</a>
        <a href="{% url 'account:logout' %}">Выйти</a>.
    </div>
</div>
<style>
    .profile-avatar {
        width: 200px;         /* Фиксированная ширина */
        height: 200px;        /* Фиксированная высота */
        object-fit: cover;    /* Обрезает изображение чтобы заполнить область */
        border-radius: 50%;   /* Круглая форма (опционально) */
        border: 4px solid #ddd; /* Рамка (опционально) */
    }
</style>
{% endblock %}